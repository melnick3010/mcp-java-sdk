[melnick3010@k8snv41 mcp-java-sdk]$ ~/mvn8    -pl mcp-core -Dtest=io.modelcontextprotocol.server.HttpServletSseIntegrationTests#testPingSuccess -Dsurefire.useModulePath=false test
[INFO] Scanning for projects...
[INFO]
[INFO] ----------------< io.modelcontextprotocol.sdk:mcp-core >----------------
[INFO] Building Java MCP SDK Core 0.17.0-SNAPSHOT
[INFO] --------------------------------[ jar ]---------------------------------
[INFO]
[INFO] --- spring-javaformat-maven-plugin:0.0.28:validate (default) @ mcp-core ---
[INFO]
[INFO] --- maven-enforcer-plugin:3.5.0:enforce (enforce-java-and-bytecode) @ mcp-core ---
[INFO] Rule 0: org.apache.maven.enforcer.rules.version.RequireJavaVersion passed
[INFO] Rule 1: org.codehaus.mojo.extraenforcer.dependencies.EnforceBytecodeVersion passed
[INFO]
[INFO] --- maven-dependency-plugin:3.8.0:properties (default) @ mcp-core ---
[INFO]
[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ mcp-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] skip non existing resourceDirectory /home/melnick3010/mcp-java-sdk/mcp-core/src/main/resources
[INFO]
[INFO] --- flatten-maven-plugin:1.5.0:flatten (flatten) @ mcp-core ---
[INFO] Generating flattened POM of project io.modelcontextprotocol.sdk:mcp-core:jar:0.17.0-SNAPSHOT...
[INFO]
[INFO] --- maven-compiler-plugin:3.11.0:compile (java-compile) @ mcp-core ---
[INFO] Changes detected - recompiling the module! :source
[INFO] Compiling 72 source files with javac [debug target 1.8] to target/classes
[WARNING] unknown enum constant javax.annotation.meta.When.MAYBE
  reason: class file for javax.annotation.meta.When not found
[INFO] /home/melnick3010/mcp-java-sdk/mcp-core/src/main/java/io/modelcontextprotocol/server/McpAsyncServerExchange.java: Some input files use or override a deprecated API.
[INFO] /home/melnick3010/mcp-java-sdk/mcp-core/src/main/java/io/modelcontextprotocol/server/McpAsyncServerExchange.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/melnick3010/mcp-java-sdk/mcp-core/src/main/java/io/modelcontextprotocol/server/McpServer.java: /home/melnick3010/mcp-java-sdk/mcp-core/src/main/java/io/modelcontextprotocol/server/McpServer.java uses unchecked or unsafe operations.
[INFO] /home/melnick3010/mcp-java-sdk/mcp-core/src/main/java/io/modelcontextprotocol/server/McpServer.java: Recompile with -Xlint:unchecked for details.
[INFO]
[INFO] --- bnd-maven-plugin:6.3.1:bnd-process (bnd-process) @ mcp-core ---
[WARNING] Cannot consider developer in line '29' of file '/home/melnick3010/mcp-java-sdk/pom.xml' for bundle header 'Bundle-Developers' as it does not contain the mandatory id.
[WARNING] Cannot consider developer in line '32' of file '/home/melnick3010/mcp-java-sdk/pom.xml' for bundle header 'Bundle-Developers' as it does not contain the mandatory id.
[WARNING] /home/melnick3010/mcp-java-sdk/mcp-core/.flattened-pom.xml [0:0]: Split package, multiple jars provide the same package:io/modelcontextprotocol/json
Use Import/Export Package directive -split-package:=(merge-first|merge-last|error|first) to get rid of this warning
Package found in   [Jar:classes, Jar:mcp-json-0.17.0-SNAPSHOT]
Class path         [Jar:classes, Jar:httpclient-4.5.13, Jar:httpcore-4.4.13, Jar:commons-logging-1.2, Jar:commons-codec-1.11, Jar:mcp-json-0.17.0-SNAPSHOT, Jar:slf4j-api-1.7.36, Jar:jackson-annotations-2.13.5, Jar:reactor-core-3.7.0, Jar:reactive-streams-1.0.4, Jar:javax.servlet-api-3.1.0]
[WARNING] /home/melnick3010/mcp-java-sdk/mcp-core/.flattened-pom.xml [0:0]: Split package, multiple jars provide the same package:io/modelcontextprotocol/json/schema
Use Import/Export Package directive -split-package:=(merge-first|merge-last|error|first) to get rid of this warning
Package found in   [Jar:classes, Jar:mcp-json-0.17.0-SNAPSHOT]
Class path         [Jar:classes, Jar:httpclient-4.5.13, Jar:httpcore-4.4.13, Jar:commons-logging-1.2, Jar:commons-codec-1.11, Jar:mcp-json-0.17.0-SNAPSHOT, Jar:slf4j-api-1.7.36, Jar:jackson-annotations-2.13.5, Jar:reactor-core-3.7.0, Jar:reactive-streams-1.0.4, Jar:javax.servlet-api-3.1.0]
[WARNING] /home/melnick3010/mcp-java-sdk/mcp-core/.flattened-pom.xml [0:0]: Unused Import-Package instructions: [jakarta.*]
[INFO]
[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ mcp-core ---
[INFO] Using 'UTF-8' encoding to copy filtered resources.
[INFO] Copying 2 resources
[INFO]
[INFO] --- maven-compiler-plugin:3.11.0:testCompile (java-test-compile) @ mcp-core ---
[INFO] Changes detected - recompiling the module! :dependency
[INFO] Compiling 71 source files with javac [debug target 1.8] to target/test-classes
[INFO] /home/melnick3010/mcp-java-sdk/mcp-core/src/test/java/io/modelcontextprotocol/server/SyncToolSpecificationBuilderTest.java: Some input files use or override a deprecated API.
[INFO] /home/melnick3010/mcp-java-sdk/mcp-core/src/test/java/io/modelcontextprotocol/server/SyncToolSpecificationBuilderTest.java: Recompile with -Xlint:deprecation for details.
[INFO] /home/melnick3010/mcp-java-sdk/mcp-core/src/test/java/io/modelcontextprotocol/server/AbstractMcpClientServerIntegrationTests.java: Some input files use unchecked or unsafe operations.
[INFO] /home/melnick3010/mcp-java-sdk/mcp-core/src/test/java/io/modelcontextprotocol/server/AbstractMcpClientServerIntegrationTests.java: Recompile with -Xlint:unchecked for details.
[INFO]
[INFO] --- maven-surefire-plugin:3.1.2:test (default-test) @ mcp-core ---
[INFO] Using auto detected provider org.apache.maven.surefire.junitplatform.JUnitPlatformProvider
[INFO]
[INFO] -------------------------------------------------------
[INFO]  T E S T S
[INFO] -------------------------------------------------------
[INFO] Running io.modelcontextprotocol.server.HttpServletSseIntegrationTests
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0, Time elapsed: 50.34 s <<< FAILURE! -- in io.modelcontextprotocol.server.HttpServletSseIntegrationTests
[ERROR] io.modelcontextprotocol.server.HttpServletSseIntegrationTests.testPingSuccess(String)[1] -- Time elapsed: 50.17 s <<< ERROR!
reactor.core.Exceptions$ReactiveException: java.util.concurrent.TimeoutException: Did not observe any item or terminal signal within 45000ms in 'source(MonoDeferContextual)' (and no fallback has been configured)
        at reactor.core.Exceptions.propagate(Exceptions.java:410)
        at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:102)
        at reactor.core.publisher.Mono.block(Mono.java:1779)
        at io.modelcontextprotocol.client.McpSyncClient.callTool(McpSyncClient.java:236)
        at io.modelcontextprotocol.server.AbstractMcpClientServerIntegrationTests.testPingSuccess(AbstractMcpClientServerIntegrationTests.java:1294)
        at java.lang.reflect.Method.invoke(Method.java:498)
        at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.ReferencePipeline$2$1.accept(ReferencePipeline.java:175)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.ForEachOps$ForEachOp$OfRef.accept(ForEachOps.java:183)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.Streams$StreamBuilderImpl.forEachRemaining(Streams.java:419)
        at java.util.stream.ReferencePipeline$Head.forEach(ReferencePipeline.java:647)
        at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.Spliterators$ArraySpliterator.forEachRemaining(Spliterators.java:948)
        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
        at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
        at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
        at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.stream.ReferencePipeline$3$1.accept(ReferencePipeline.java:193)
        at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
        at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
        at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
        at java.util.stream.ReferencePipeline$7$1.accept(ReferencePipeline.java:272)
        at java.util.ArrayList$ArrayListSpliterator.forEachRemaining(ArrayList.java:1384)
        at java.util.stream.AbstractPipeline.copyInto(AbstractPipeline.java:482)
        at java.util.stream.AbstractPipeline.wrapAndCopyInto(AbstractPipeline.java:472)
        at java.util.stream.ForEachOps$ForEachOp.evaluateSequential(ForEachOps.java:150)
        at java.util.stream.ForEachOps$ForEachOp$OfRef.evaluateSequential(ForEachOps.java:173)
        at java.util.stream.AbstractPipeline.evaluate(AbstractPipeline.java:234)
        at java.util.stream.ReferencePipeline.forEach(ReferencePipeline.java:485)
        at java.util.ArrayList.forEach(ArrayList.java:1259)
        at java.util.ArrayList.forEach(ArrayList.java:1259)
        Suppressed: java.lang.Exception: #block terminated with an error
                at reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:104)
                ... 48 more
Caused by: java.util.concurrent.TimeoutException: Did not observe any item or terminal signal within 45000ms in 'source(MonoDeferContextual)' (and no fallback has been configured)
        at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.handleTimeout(FluxTimeout.java:296)
        at reactor.core.publisher.FluxTimeout$TimeoutMainSubscriber.doTimeout(FluxTimeout.java:281)
        at reactor.core.publisher.FluxTimeout$TimeoutTimeoutSubscriber.onNext(FluxTimeout.java:420)
        at reactor.core.publisher.FluxOnErrorReturn$ReturnSubscriber.onNext(FluxOnErrorReturn.java:162)
        at reactor.core.publisher.MonoDelay$MonoDelayRunnable.propagateDelay(MonoDelay.java:270)
        at reactor.core.publisher.MonoDelay$MonoDelayRunnable.run(MonoDelay.java:285)
        at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
        at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)

[INFO]
[INFO] Results:
[INFO]
[ERROR] Errors:
[ERROR]   HttpServletSseIntegrationTests>AbstractMcpClientServerIntegrationTests.testPingSuccess:1294 Â» Reactive java.util.concurrent.TimeoutException: Did not observe any item or terminal signal within 45000ms in 'source(MonoDeferContextual)' (and no fallback has been configured)
[INFO]
[ERROR] Tests run: 1, Failures: 0, Errors: 1, Skipped: 0
[INFO]
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time:  01:14 min
[INFO] Finished at: 2025-12-09T10:12:02-08:00
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:3.1.2:test (default-test) on project mcp-core:
[ERROR]
[ERROR] Please refer to /home/melnick3010/mcp-java-sdk/mcp-core/target/surefire-reports for the individual test results.
[ERROR] Please refer to dump files (if any exist) [date].dump, [date]-jvmRun[N].dump and [date].dumpstream.
[ERROR] -> [Help 1]
[ERROR]
[ERROR] To see the full stack trace of the errors, re-run Maven with the -e switch.
[ERROR] Re-run Maven using the -X switch to enable full debug logging.
[ERROR]
[ERROR] For more information about the errors and possible solutions, please read the following articles:
[ERROR] [Help 1] http://cwiki.apache.org/confluence/display/MAVEN/MojoFailureException
[melnick3010@k8snv41 mcp-java-sdk]$ cat mcp-core/target/surefire-reports/io.modelcontextprotocol.server.HttpServletSseIntegrationTests-output.txt
Dec 09, 2025 10:11:13 AM org.apache.coyote.AbstractProtocol init
INFO: Initializing ProtocolHandler ["http-nio-44985"]
Dec 09, 2025 10:11:13 AM org.apache.catalina.core.StandardService startInternal
INFO: Starting service [Tomcat]
Dec 09, 2025 10:11:13 AM org.apache.catalina.core.StandardEngine startInternal
INFO: Starting Servlet engine: [Apache Tomcat/9.0.87]
Dec 09, 2025 10:11:13 AM org.apache.coyote.AbstractProtocol start
INFO: Starting ProtocolHandler ["http-nio-44985"]
Tomcat avviato su porta 44985
2025-12-09 10:11:14 [http-nio-44985-exec-1] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SSE doGet() requestURI=/somePath/sse
2025-12-09 10:11:14 [http-nio-44985-exec-1] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SSE endpoint event sent: http://localhost:44985/somePath/otherPath/mcp/message?sessionId=07b83f5d-ffa5-4bcc-ae93-0d5c9ee4ec88
2025-12-09 10:11:14 [http-nio-44985-exec-3] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SSE doGet() requestURI=/somePath/sse
2025-12-09 10:11:14 [http-nio-44985-exec-3] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SSE endpoint event sent: http://localhost:44985/somePath/otherPath/mcp/message?sessionId=4726b207-3f7f-42ed-8c5e-1560844b4545
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - SSE RAW EVENT: type=endpoint, data_lines=1, payload_len=100, preview=http://localhost:44985/somePath/otherPath/mcp/message?sessionId=4726b207-3f7f-42ed-8c5e-1560844b4545
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - SSE ENDPOINT DISCOVERED (stream-local): http://localhost:44985/somePath/otherPath/mcp/message?sessionId=4726b207-3f7f-42ed-8c5e-1560844b4545
2025-12-09 10:11:14 [main] INFO  i.m.spec.McpClientSession - CLIENT sendRequest: method=initialize, id=f6f73b2d-0
2025-12-09 10:11:14 [http-nio-44985-exec-5] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SERVER doPost: kind=REQUEST, id=f6f73b2d-0, sessionId=4726b207-3f7f-42ed-8c5e-1560844b4545, uri=/somePath/otherPath/mcp/message, thread=http-nio-44985-exec-5
2025-12-09 10:11:14 [http-nio-44985-exec-5] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SERVER doPost BEFORE BLOCK: kind=REQUEST, id=f6f73b2d-0, thread=http-nio-44985-exec-5 - About to block waiting for session.handle()
2025-12-09 10:11:14 [http-nio-44985-exec-5] INFO  i.m.spec.McpServerSession - SERVER handle(): incoming REQUEST method=initialize, id=f6f73b2d-0, thread=http-nio-44985-exec-5
2025-12-09 10:11:14 [http-nio-44985-exec-5] INFO  i.m.spec.McpServerSession - SERVER handle(): BEFORE handleIncomingRequest - thread=http-nio-44985-exec-5 is about to process request
2025-12-09 10:11:14 [http-nio-44985-exec-5] INFO  i.m.spec.McpServerSession - SERVER handleIncomingRequest: method=initialize, id=f6f73b2d-0, thread=http-nio-44985-exec-5
2025-12-09 10:11:14 [http-nio-44985-exec-5] INFO  i.m.server.McpAsyncServer - Client initialize request - Protocol: 2024-11-05, Capabilities: io.modelcontextprotocol.spec.McpSchema$ClientCapabilities@37334940, Info: io.modelcontextprotocol.spec.McpSchema$Implementation@5c0495d8
2025-12-09 10:11:14 [http-nio-44985-exec-5] INFO  i.m.spec.McpServerSession - SERVER prepareResponse: id=f6f73b2d-0, thread=http-nio-44985-exec-5 (will send via SSE)
2025-12-09 10:11:14 [http-nio-44985-exec-5] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SERVER doPost COMPLETED: kind=REQUEST, id=f6f73b2d-0, elapsedMs=55, thread=http-nio-44985-exec-5
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - SSE RAW EVENT: type=message, data_lines=1, payload_len=190, preview={"jsonrpc":"2.0","id":"f6f73b2d-0","result":{"protocolVersion":"2024-11-05","capabilities":{"logging":{},"tools":{"listC...
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - SSE MESSAGE PARSED: kind=RESPONSE
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - DISPATCH: kind=RESPONSE -> NO POST (handled locally), thread=boundedElastic-1
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.spec.McpClientSession - CLIENT receivedResponse: id=f6f73b2d-0 (completing)
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.client.LifecycleInitializer - Server response with Protocol: 2024-11-05, Capabilities: io.modelcontextprotocol.spec.McpSchema$ServerCapabilities@1acec3e0, Info: io.modelcontextprotocol.spec.McpSchema$Implementation@40f6b64a and Instructions null
2025-12-09 10:11:14 [http-nio-44985-exec-4] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SERVER doPost: kind=NOTIFICATION, id=null, sessionId=4726b207-3f7f-42ed-8c5e-1560844b4545, uri=/somePath/otherPath/mcp/message, thread=http-nio-44985-exec-4
2025-12-09 10:11:14 [http-nio-44985-exec-4] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SERVER doPost BEFORE BLOCK: kind=NOTIFICATION, id=null, thread=http-nio-44985-exec-4 - About to block waiting for session.handle()
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - CLIENT HANDLER OUTPUT: kind=RESPONSE, id=f6f73b2d-0
2025-12-09 10:11:14 [http-nio-44985-exec-4] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SERVER doPost COMPLETED: kind=NOTIFICATION, id=null, elapsedMs=6, thread=http-nio-44985-exec-4
2025-12-09 10:11:14 [main] INFO  i.m.spec.McpClientSession - CLIENT sendRequest: method=tools/call, id=f6f73b2d-1
2025-12-09 10:11:14 [http-nio-44985-exec-6] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SERVER doPost: kind=REQUEST, id=f6f73b2d-1, sessionId=4726b207-3f7f-42ed-8c5e-1560844b4545, uri=/somePath/otherPath/mcp/message, thread=http-nio-44985-exec-6
2025-12-09 10:11:14 [http-nio-44985-exec-6] INFO  i.m.s.t.HttpServletSseServerTransportProvider - SERVER doPost BEFORE BLOCK: kind=REQUEST, id=f6f73b2d-1, thread=http-nio-44985-exec-6 - About to block waiting for session.handle()
2025-12-09 10:11:14 [http-nio-44985-exec-6] INFO  i.m.spec.McpServerSession - SERVER handle(): incoming REQUEST method=tools/call, id=f6f73b2d-1, thread=http-nio-44985-exec-6
2025-12-09 10:11:14 [http-nio-44985-exec-6] INFO  i.m.spec.McpServerSession - SERVER handle(): BEFORE handleIncomingRequest - thread=http-nio-44985-exec-6 is about to process request
2025-12-09 10:11:14 [http-nio-44985-exec-6] INFO  i.m.spec.McpServerSession - SERVER handleIncomingRequest: method=tools/call, id=f6f73b2d-1, thread=http-nio-44985-exec-6
2025-12-09 10:11:14 [http-nio-44985-exec-6] INFO  i.m.spec.McpServerSession - SERVER handleIncomingRequest: FOUND handler for method=tools/call, id=f6f73b2d-1, thread=http-nio-44985-exec-6 - About to call handler
2025-12-09 10:11:14 [http-nio-44985-exec-6] INFO  i.m.spec.McpServerSession - SERVER handleIncomingRequest: EXECUTING handler for method=tools/call, id=f6f73b2d-1, thread=http-nio-44985-exec-6
2025-12-09 10:11:14 [http-nio-44985-exec-6] INFO  i.m.spec.McpServerSession - SERVER sendRequest: method=ping, id=c745b963-a9f6-4f30-bf6d-2af2382f3aab-0, thread=http-nio-44985-exec-6 - SENDING REQUEST TO CLIENT
2025-12-09 10:11:14 [http-nio-44985-exec-6] INFO  i.m.spec.McpServerSession - SERVER sendRequest: id=c745b963-a9f6-4f30-bf6d-2af2382f3aab-0, thread=http-nio-44985-exec-6 - Added to pendingResponses, count=1
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - SSE RAW EVENT: type=message, data_lines=1, payload_len=79, preview={"jsonrpc":"2.0","method":"ping","id":"c745b963-a9f6-4f30-bf6d-2af2382f3aab-0"}
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - SSE MESSAGE PARSED: kind=REQUEST
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - DISPATCH: kind=REQUEST -> WILL POST response to stream endpoint, thread=boundedElastic-1
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - CLIENT HANDLER OUTPUT: kind=RESPONSE, id=c745b963-a9f6-4f30-bf6d-2af2382f3aab-0
2025-12-09 10:11:14 [boundedElastic-1] INFO  i.m.c.t.HttpClientSseClientTransport - CLIENT POST PREPARED: endpoint=http://localhost:44985/somePath/otherPath/mcp/message?sessionId=4726b207-3f7f-42ed-8c5e-1560844b4545, id=c745b963-a9f6-4f30-bf6d-2af2382f3aab-0, thread=boundedElastic-1 - About to POST
2025-12-09 10:11:14 [boundedElastic-3] INFO  i.m.c.t.HttpClientSseClientTransport - CLIENT postToEndpoint: STARTING POST to endpoint=http://localhost:44985/somePath/otherPath/mcp/message?sessionId=4726b207-3f7f-42ed-8c5e-1560844b4545, messageId=c745b963-a9f6-4f30-bf6d-2af2382f3aab-0, thread=boundedElastic-3
2025-12-09 10:11:59 [main] WARN  i.m.spec.McpClientSession - Abruptly terminating exchange for request f6f73b2d-1
2025-12-09 10:11:59 [boundedElastic-3] ERROR i.m.c.t.HttpClientSseClientTransport - CLIENT postToEndpoint: POST FAILED with status=503, messageId=c745b963-a9f6-4f30-bf6d-2af2382f3aab-0, thread=boundedElastic-3
Chiusura risorse...
Dec 09, 2025 10:11:59 AM org.apache.coyote.AbstractProtocol pause
INFO: Pausing ProtocolHandler ["http-nio-44985"]
Dec 09, 2025 10:11:59 AM org.apache.catalina.core.StandardService stopInternal
INFO: Stopping service [Tomcat]
2025-12-09 10:11:59 [boundedElastic-3] ERROR i.m.c.t.HttpClientSseClientTransport - Failed to handle/send response, thread=boundedElastic-3: Failed to send message. Status: 503
io.modelcontextprotocol.spec.McpTransportException: Failed to send message. Status: 503
        at io.modelcontextprotocol.client.transport.HttpClientSseClientTransport.lambda$null$7(HttpClientSseClientTransport.java:306)
        at reactor.core.publisher.MonoCallable.call(MonoCallable.java:72)
        at reactor.core.publisher.FluxSubscribeOnCallable$CallableSubscribeOnSubscription.run(FluxSubscribeOnCallable.java:228)
        at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:68)
        at reactor.core.scheduler.SchedulerTask.call(SchedulerTask.java:28)
        at java.util.concurrent.FutureTask.run(FutureTask.java:266)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.access$201(ScheduledThreadPoolExecutor.java:180)
        at java.util.concurrent.ScheduledThreadPoolExecutor$ScheduledFutureTask.run(ScheduledThreadPoolExecutor.java:293)
        at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
        at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
        at java.lang.Thread.run(Thread.java:750)
Dec 09, 2025 10:11:59 AM org.apache.catalina.core.StandardWrapper unload
INFO: Waiting for [1] instance(s) to be deallocated for Servlet [mcpServlet]
Dec 09, 2025 10:12:00 AM org.apache.catalina.core.StandardWrapper unload
INFO: Waiting for [1] instance(s) to be deallocated for Servlet [mcpServlet]
Dec 09, 2025 10:12:01 AM org.apache.catalina.core.StandardWrapper unload
INFO: Waiting for [1] instance(s) to be deallocated for Servlet [mcpServlet]
Dec 09, 2025 10:12:01 AM org.apache.catalina.loader.WebappClassLoaderBase clearReferencesThreads
WARNING: The web application [ROOT] is still processing a request that has yet to finish. This is very likely to create a memory leak. You can control the time allowed for requests to finish by using the unloadDelay attribute of the standard Context implementation. Stack trace of request processing thread:[
 sun.misc.Unsafe.park(Native Method)
 java.util.concurrent.locks.LockSupport.park(LockSupport.java:175)
 java.util.concurrent.locks.AbstractQueuedSynchronizer.parkAndCheckInterrupt(AbstractQueuedSynchronizer.java:836)
 java.util.concurrent.locks.AbstractQueuedSynchronizer.doAcquireSharedInterruptibly(AbstractQueuedSynchronizer.java:997)
 java.util.concurrent.locks.AbstractQueuedSynchronizer.acquireSharedInterruptibly(AbstractQueuedSynchronizer.java:1304)
 java.util.concurrent.CountDownLatch.await(CountDownLatch.java:231)
 reactor.core.publisher.BlockingSingleSubscriber.blockingGet(BlockingSingleSubscriber.java:91)
 reactor.core.publisher.Mono.block(Mono.java:1779)
 io.modelcontextprotocol.server.transport.HttpServletSseServerTransportProvider.doPost(HttpServletSseServerTransportProvider.java:421)
 javax.servlet.http.HttpServlet.service(HttpServlet.java:707)
 javax.servlet.http.HttpServlet.service(HttpServlet.java:790)
 org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:210)
 org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:154)
 org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:168)
 org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90)
 org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:481)
 org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:130)
 org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93)
 org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74)
 org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
 org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:390)
 org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63)
 org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:928)
 org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1786)
 org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52)
 org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191)
 org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659)
 org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:63)
 java.lang.Thread.run(Thread.java:750)]
Dec 09, 2025 10:12:01 AM org.apache.coyote.AbstractProtocol stop
INFO: Stopping ProtocolHandler ["http-nio-44985"]
2025-12-09 10:12:01 [http-nio-44985-exec-6] ERROR i.m.s.t.HttpServletSseServerTransportProvider - Error processing message: java.lang.InterruptedException
Dec 09, 2025 10:12:02 AM org.apache.coyote.AbstractProtocol destroy
INFO: Destroying ProtocolHandler ["http-nio-44985"]
Risorse chiuse.
[melnick3010@k8snv41 mcp-java-sdk]$
